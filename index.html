<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta name="google-site-verification" content="QGmsbtEznuA39cEmcESqy9JWi3-d3icl7SlFYa9wqc4" />
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Side Party</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="css/stylus.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>

        <link rel="stylesheet" type="text/css" href="slick/slick.css"/>

        <script type="text/javascript">
        WebFontConfig = { fontdeck: { id: '56353' } };

        (function() {
          var wf = document.createElement('script');
          wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
          '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
          wf.type = 'text/javascript';
          wf.async = 'true';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(wf, s);
        })();
        </script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <h1 class="logo">
          <a href="/"><img src="img/side-party-logo-final.png" alt="Side Party"></a>
        </h1>

        <nav>
          <a href="/about.html">about</a>
          <a href="/contact.html">contact</a>
        </nav>

        <div class="slider-container">
          <div id="myslider">
            <img src="img/1.jpg" alt="">
            <img src="img/2.jpg" alt="">
            <img src="img/3.jpg" alt="">
          </div>
        </div>

        <div class="coming-soon">
          <p>Launching in September 2015</p>
        </div>

        <div class="join">
          <div id="form">
            <p class="big">Join the Side Party</p>
            <input id="email-input" type="email" placeholder="email address"></input>
            <button id="join-button">Subscribe</button>
          </div>

          <div class="message" id="thanks" style="display: none;">
            <p><strong>Thanks!</strong> We'll email you with updates.</p>
          </div>
          <div class="message" id="invalid-email" style="display: none;">
            <p><strong>Oops!</strong> That isn't a valid email address.</p>
          </div>

          <div id="waiting" style="display: none;">
            <div class="spinner"></div>
          </div>
        </div>

        <div class="footer">
          <p>Â© copyright 2015 Side Party</p>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.3.min.js"><\/script>')</script>

        <script type="text/javascript" src="js/imagesloaded.pkgd.min.js"></script>
        <script type="text/javascript" src="slick/slick.min.js"></script>

        <script type="text/javascript" src="js/moment.min.js"></script>

        <script>

        $(document).ready(function(){
          $('#myslider').imagesLoaded( function() {
            // images have loaded
            $('#myslider').slick({
              autoplay: true,
              infinite: true,
              autoplaySpeed: 3400,
              speed: 200,
              fade: true,
              cssEase: 'linear',
              arrows: false,
              pauseOnHover: false

            });
          });
        });

        var myFirebaseRef = new Firebase("https://sidepartysoon.firebaseio.com/coming_soon_emails");

        var validateEmail = function (email) {
          var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
          return re.test(email);
        }

        var addEmail = function(){
          $('#invalid-email').hide();
          if (!validateEmail($('#email-input').val())) {
            $('#invalid-email').slideDown();
          } else {
            $('#waiting').show();
            myFirebaseRef.push({
              email: $('#email-input').val(),
              date: moment().format(),
              language: navigator.language || navigator.userLanguage
            }, function(error){
              $('#waiting').hide();
              if (error) {
                alert("There was an error, please try again later!");
              } else {
                $('#thanks').slideDown();
                $('#join-sideparty').slideUp();
              }
            });
          }
        }

        $('#join-button').click(addEmail);

        $('#email-input').keypress(function(event){
          if (event.keyCode === 13) {
            console.log("enteeeer");
            addEmail();
          }
        });

        </script>

        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-62890703-1', 'auto');
          ga('send', 'pageview');

        </script>
    </body>
</html>
